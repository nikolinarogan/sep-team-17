<div class="vehicle-form-container">
  <div class="vehicle-form-card">
    <h2>{{ isEditMode ? 'Edit Vehicle' : 'Add New Vehicle' }}</h2>
    
    <form [formGroup]="vehicleForm" (ngSubmit)="onSubmit()">
      <div class="form-group">
        <label for="model">Model</label>
        <input 
          type="text" 
          id="model" 
          formControlName="model"
          class="form-control"
          [class.error]="vehicleForm.get('model')?.invalid && vehicleForm.get('model')?.touched">
        <div class="error-message" *ngIf="vehicleForm.get('model')?.invalid && vehicleForm.get('model')?.touched">
          Model is required
        </div>
      </div>

      <div class="form-group">
        <label for="pricePerDay">Price Per Day ($)</label>
        <input 
          type="number" 
          id="pricePerDay" 
          formControlName="pricePerDay"
          step="0.01"
          min="0"
          class="form-control"
          [class.error]="vehicleForm.get('pricePerDay')?.invalid && vehicleForm.get('pricePerDay')?.touched">
        <div class="error-message" *ngIf="vehicleForm.get('pricePerDay')?.invalid && vehicleForm.get('pricePerDay')?.touched">
          <span *ngIf="vehicleForm.get('pricePerDay')?.errors?.['required']">Price is required</span>
          <span *ngIf="vehicleForm.get('pricePerDay')?.errors?.['min']">Price must be greater than 0</span>
        </div>
      </div>

      <div class="form-group">
        <label for="isAvailable">Availability</label>
        <select 
          id="isAvailable" 
          formControlName="isAvailable"
          class="form-control">
          <option [value]="true">Available</option>
          <option [value]="false">Not Available</option>
        </select>
      </div>

      <div class="form-group">
        <label for="imageFile">Vehicle Image</label>
        <input 
          type="file" 
          id="imageFile" 
          accept="image/*"
          (change)="onFileSelected($event)"
          class="form-control"
          [required]="!isEditMode">
        <div class="error-message" *ngIf="!isEditMode && !selectedFile && vehicleForm.get('imageFile')?.touched">
          Image is required
        </div>
        <div class="image-preview" *ngIf="imagePreview">
          <img [src]="imagePreview" alt="Preview" />
        </div>
      </div>

      <div class="error-message" *ngIf="errorMessage">{{ errorMessage }}</div>
      <div class="success-message" *ngIf="successMessage">{{ successMessage }}</div>

      <div class="form-actions">
        <button 
          type="submit" 
          class="btn-primary"
          [disabled]="vehicleForm.invalid || isLoading">
          {{ isLoading ? 'Saving...' : (isEditMode ? 'Update Vehicle' : 'Create Vehicle') }}
        </button>
        <button 
          type="button" 
          class="btn-secondary"
          (click)="cancel()">
          Cancel
        </button>
      </div>
    </form>
  </div>
</div>

